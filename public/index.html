<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#f43f5e" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta
      name="Description"
      content="Front-end dev. Father. Young grump. Simple things enjoyer."
    />
    <link rel="canonical" href="https://carter.works" />
    <link rel="icon" href="/favicon.ico" sizes="any" />
    <!-- 32×32 -->
    <link rel="icon" href="/icon.svg" type="image/svg+xml" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    <!-- 180×180 -->
    <link rel="manifest" href="/site.webmanifest" />
    <meta property="og:title" content="Carter McBride" />
    <meta property="og:type" content="website" />
    <meta
      property="og:description"
      content="Front-end dev. Father. Young grump. Simple things enjoyer."
    />
    <meta property="og:image" content="https://carter.works/card.jpg" />
    <meta property="og:url" content="https://carter.works/" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta property="og:site_name" content="Carter McBride" />
    <meta
      name="twitter:image:alt"
      content="A picture of a blue webpage. It reads 'Hi, I'm Carter. Front-end dev. Father. Young grump. Simple things enjoyer.' It has links to his LinkedIn and GitHub profiles, in the form of icons."
    />

    <title>Carter McBride</title>
    <style>
      :root {
      	font-size: 24px;
      	-webkit-font-smoothing: antialiased;
      	-moz-osx-font-smoothing: grayscale;

      	/* from https://modernfontstacks.com/ */
      	--font-emoji: "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
      		"Noto Color Emoji";
      	--font-transitional: "Charter", "Bitstream Charter", "Sitka Text",
      		Cambria, serif;
      	--font-old-style: "Iowan Old Style", "Palatino Linotype",
      		"URW Palladio L", P052, serif;
      	--font-humanist: Seravek, "Gill Sans Nova", Ubuntu, Calibri,
      		"DejaVu Sans", source-sans-pro, sans-serif;
      	--font-geometric-humanist: Avenir, Montserrat, Corbel, "URW Gothic",
      		source-sans-pro, sans-serif;
      	--font-classical-humanist: Optima, Candara, "Noto Sans", source-sans-pro,
      		sans-serif;
      	--font-didone: Didot, "Bodoni MT", "Noto Serif Display",
      		"URW Palladio L", P052, Sylfaen, serif;

      	--font-default: var(--font-classical-humanist), var(--font-emoji);
      	--font-header: var(--font-didone), var(--font-emoji);

      	--row-gap: 0.5rem;

      	--color-text: rgb(255, 255, 255);
      	--color-background: rgb(187, 108, 37);
      	--color-background-next: var(--color-background);
      	--color-background-hover: rgb(221, 149, 85);
      	--color-background-hover-next: var(--color-background-hover);
      	--color-github: rgb(110, 64, 201);
      	--color-linkedIn: rgb(10, 102, 194);
      }

      @supports (color: oklch(0 0 0)) {
      	:root {
      		--color-text: oklch(100% 0 0);
      		--color-background: oklch(60.94% 0.13 57.35);
      		--color-background-next: var(--color-background);
      		--color-background-hover: color-mix(in oklch,
      				var(--color-background) 70%,
      				var(--color-text) 30%);
      		--color-background-hover-next: color-mix(in oklch,
      				var(--color-background-next) 70%,
      				var(--color-text) 30%);
      		--color-github: oklch(50.41% 0.2 293.28);
      		--color-linkedIn: oklch(51.56% 0.163 254.73);
      	}
      }

      * {
      	transition: all 0.2s ease-in-out;
      }

      h1,
      p,
      ul,
      body,
      li {
      	box-sizing: border-box;
      	margin: 0;
      	padding: 0;
      }

      /* reset button styles */
      button {
      	background: none;
      	border: none;
      	padding: 0;
      	font: inherit;
      	cursor: pointer;
      	outline: inherit;
      }

      body {
      	display: grid;
      	height: 100dvh;
      	color: var(--color-text);
      	background: linear-gradient(to bottom right,
      			var(--color-background-hover),
      			var(--color-background));

      	--gutter: minmax(8px, 1fr);
      	grid-template:
      		var(--gutter) repeat(3, auto) var(--gutter) / var(--gutter) auto var(--gutter);
      	font-family: var(--font-default);
      	font-weight: 100;
      	place-items: center;
      	line-height: 1.25;
      	row-gap: var(--row-gap);
      }

      header {
      	grid-column: 2 / -2;
      	grid-row: 2 / -2;

      	background-color: color-mix(in oklch,
      			var(--color-background) 20%,
      			rgba(255, 255, 255, 0.1));
      	backdrop-filter: blur(50px);
      	padding: 1rem;
      	border-radius: 2rem;
      	box-shadow: 0 0.75rem 2rem 0 rgba(0, 0, 0, 0.1);
      }

      header,
      hgroup {
      	display: grid;
      }

      hgroup>p,
      nav {
      	margin-block-start: var(--row-gap);
      }

      nav>ul {
      	list-style: none;
      	display: grid;
      	grid-auto-flow: column;
      }

      @supports (grid-template: subgrid / subgrid) {
      	hgroup {
      		grid-row: 1 / 3;
      	}

      	header,
      	hgroup {
      		grid-template: subgrid / subgrid;
      	}

      	hgroup>p,
      	nav {
      		margin-block-start: 0;
      	}
      }

      h1 {
      	font-family: var(--font-header);
      }

      nav svg {
      	fill: none;
      	stroke: var(--color-text);
      	background-color: var(--color-background);
      	border-radius: 8px;
      	padding: 8px;

      	&:hover {
      		background-color: var(--color-background-hover);
      	}
      }

      a[title="GitHub"] svg {
      	&:hover {
      		stroke: var(--color-github);
      	}
      }

      a[title="LinkedIn"] svg {
      	&:hover {
      		stroke: var(--color-linkedIn);
      	}
      }

      button[title="Select new color"] svg {
      	&:hover {
      		background-color: var(--color-background-hover-next);
      		stroke: var(--color-background-next);
      	}
      }

      .orb-canvas {
      	position: fixed;
      	top: 0;
      	left: 0;
      	width: 100%;
      	height: 100%;
      	pointer-events: none;
      	z-index: -1;
      }
    </style>
    <script type="module">
      /**
       * Credit to George Francis (georgedoescode)
       * https://codepen.io/georgedoescode/pen/XWNmvro
       */
      import * as PIXI from "https://cdn.skypack.dev/pixi.js@5.x";
      import { KawaseBlurFilter } from "https://cdn.skypack.dev/@pixi/filter-kawase-blur@3.2.0";
      import SimplexNoise from "https://cdn.skypack.dev/simplex-noise@3.0.0";
      import colortools from "https://cdn.skypack.dev/better-color-tools@v0.12.3";
      import debounce from "https://cdn.skypack.dev/debounce";

      function addPaletteChangeButton() {
        // Create button element
        const button = document.createElement("button");

        // Set id, aria-label, and title
        button.id = "new-color";
        button.setAttribute("aria-label", "Select new color");
        button.title = "Select new color";

        // Create SVG element
        const svg = document.createElementNS(
          "http://www.w3.org/2000/svg",
          "svg"
        );
        svg.setAttribute("width", "24");
        svg.setAttribute("height", "24");
        svg.setAttribute("viewBox", "0 0 24 24");
        svg.setAttribute("focusable", "false");
        svg.setAttribute("aria-hidden", "true");
        svg.setAttribute("stroke", "currentColor");
        svg.setAttribute("stroke-width", "2");
        svg.setAttribute("stroke-linecap", "round");
        svg.setAttribute("stroke-linejoin", "round");

        // Append SVG shapes
        // Circle elements
        const circle1 = document.createElementNS(
          "http://www.w3.org/2000/svg",
          "circle"
        );
        circle1.setAttribute("cx", "13.5");
        circle1.setAttribute("cy", "6.5");
        circle1.setAttribute("r", ".5");

        const circle2 = document.createElementNS(
          "http://www.w3.org/2000/svg",
          "circle"
        );
        circle2.setAttribute("cx", "17.5");
        circle2.setAttribute("cy", "10.5");
        circle2.setAttribute("r", ".5");

        const circle3 = document.createElementNS(
          "http://www.w3.org/2000/svg",
          "circle"
        );
        circle3.setAttribute("cx", "8.5");
        circle3.setAttribute("cy", "7.5");
        circle3.setAttribute("r", ".5");

        const circle4 = document.createElementNS(
          "http://www.w3.org/2000/svg",
          "circle"
        );
        circle4.setAttribute("cx", "6.5");
        circle4.setAttribute("cy", "12.5");
        circle4.setAttribute("r", ".5");

        // Path element
        const path = document.createElementNS(
          "http://www.w3.org/2000/svg",
          "path"
        );
        path.setAttribute(
          "d",
          "M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"
        );

        // Append shapes to SVG
        svg.appendChild(circle1);
        svg.appendChild(circle2);
        svg.appendChild(circle3);
        svg.appendChild(circle4);
        svg.appendChild(path);
        // Append SVG to button
        button.appendChild(svg);

        // Create li element
        const li = document.createElement("li");

        // Append button to li
        li.appendChild(button);

        document.querySelector("nav ul").appendChild(li);
      }

      // return a random number within a range
      function random(min, max) {
        return Math.random() * (max - min) + min;
      }
      // map a number from 1 range to another
      function map(n, start1, end1, start2, end2) {
        return ((n - start1) / (end1 - start1)) * (end2 - start2) + start2;
      }

      function createPalette(colorStr) {
        const backgroundColor =
          typeof colorStr === "string" ? colortools.from(colorStr) : colorStr;

        // store the color choices in an array so that a random one can be picked later
        return [
          backgroundColor,
          backgroundColor.adjust({ mode: "relative", lightness: 0.1 }),
          backgroundColor.adjust({ mode: "relative", lightness: -0.2 }),
        ];
      }

      function pickRandom(arr) {
        return arr[~~random(0, arr.length)];
      }

      function generateRandomColor(base) {
        const hue = random(0, 360);
        const newColor = base.adjust({
          hue,
        });
        return newColor;
      }

      function init() {
        addPaletteChangeButton();
        // Create a new simplex noise instance
        const simplex = new SimplexNoise();

        // Orb class
        class Orb {
          constructor(fill) {
            // bounds = the area an orb is "allowed" to move within
            this.bounds = this.setBounds();
            // initialise the orb's { x, y } values to a random point within it's bounds
            this.x = random(this.bounds["x"].min, this.bounds["x"].max);
            this.y = random(this.bounds["y"].min, this.bounds["y"].max);

            // how large the orb is vs it's original radius (this will modulate over time)
            this.scale = 1;

            // what color is the orb?
            this.fill = fill.hexVal;

            // the original radius of the orb, set relative to window height
            this.radius = random(
              window.innerHeight / 6,
              window.innerHeight / 3
            );

            // starting points in "time" for the noise/self similar random values
            this.xOff = random(0, 1000);
            this.yOff = random(0, 1000);
            // how quickly the noise/self similar random values step through time
            this.inc = 0.00025;

            // PIXI.Graphics is used to draw 2d primitives (in this case a circle) to the canvas
            this.graphics = new PIXI.Graphics();
            this.graphics.alpha = 0.825;

            // 250ms after the last window resize event, recalculate orb positions.
            window.addEventListener(
              "resize",
              debounce(() => {
                this.bounds = this.setBounds();
              }, 250)
            );
          }

          setBounds() {
            // how far from the { x, y } origin can each orb move
            const maxDistX =
              window.innerWidth < 1000
                ? window.innerWidth / 2
                : window.innerWidth / 3;
            const maxDistY = window.innerHeight / 2;
            // the { x, y } origin for each orb (the bottom right of the screen)
            const originX = window.innerWidth / 1.25;
            const originY =
              window.innerHeight < 1000
                ? window.innerHeight
                : window.innerHeight / 1.375;

            // allow each orb to move x distance away from it's x / y origin
            return {
              x: {
                min: originX - maxDistX,
                max: originX + maxDistX,
              },
              y: {
                min: originY - maxDistY,
                max: originY + maxDistY,
              },
            };
          }

          update() {
            // self similar "psuedo-random" or noise values at a given point in "time"
            const xNoise = simplex.noise2D(this.xOff, this.xOff);
            const yNoise = simplex.noise2D(this.yOff, this.yOff);
            const scaleNoise = simplex.noise2D(this.xOff, this.yOff);

            // map the xNoise/yNoise values (between -1 and 1) to a point within the orb's bounds
            this.x = map(
              xNoise,
              -1,
              1,
              this.bounds["x"].min,
              this.bounds["x"].max
            );
            this.y = map(
              yNoise,
              -1,
              1,
              this.bounds["y"].min,
              this.bounds["y"].max
            );
            // map scaleNoise (between -1 and 1) to a scale value somewhere between half of the orb's original size, and 100% of it's original size

            this.scale = map(scaleNoise, -1, 1, 0.5, 1);

            // step through "time"
            this.xOff += this.inc;
            this.yOff += this.inc;
          }

          render() {
            // update the PIXI.Graphics position and scale values
            this.graphics.x = this.x;
            this.graphics.y = this.y;
            this.graphics.scale.set(this.scale);

            // clear anything currently drawn to graphics
            this.graphics.clear();

            // tell graphics to fill any shapes drawn after this with the orb's fill color
            this.graphics.beginFill(this.fill);
            // draw a circle at { 0, 0 } with it's size set by this.radius
            this.graphics.drawCircle(0, 0, this.radius);
            // let graphics know we won't be filling in any more shapes
            this.graphics.endFill();
          }
        }

        // Create PixiJS app
        const app = new PIXI.Application({
          // render to <canvas class="orb-canvas"></canvas>
          view: document.querySelector(".orb-canvas"),
          // auto adjust size to fit the current window
          resizeTo: window,
          // transparent background, we will be creating a gradient background later using CSS
          transparent: true,
        });

        app.stage.filters = [new KawaseBlurFilter(8)];

        // Create colour palette
        const useOKLCH = CSS.supports("color: oklch(0 0 0)");
        const styles = getComputedStyle(document.body);
        const backgroundColor = colortools.from(
          styles.getPropertyValue("--color-background")
        );
        const colorPalette = createPalette(backgroundColor);

        // Create orbs
        const orbs = [];
        const ORB_COUNT = 10;

        for (let i = 0; i < ORB_COUNT; i++) {
          const orb = new Orb(pickRandom(colorPalette));
          app.stage.addChild(orb.graphics);
          orbs.push(orb);
        }

        // Animate!
        app.ticker.add(() => {
          orbs.forEach((orb) => {
            orb.update();
            orb.render();
          });
        });

        const getHoverColor = (color) =>
          color.adjust({ mode: "relative", lightness: 0.2 });
        const setColors = (baseColor) => {
          const hoverColor = getHoverColor(baseColor);
          if (useOKLCH) {
            document.body.style.setProperty(
              "--color-background",
              baseColor.oklch
            );
            document.body.style.setProperty(
              "--color-background-hover",
              hoverColor.oklch
            );
          } else {
            document.body.style.setProperty(
              "--color-background",
              baseColor.rgb
            );
            document.body.style.setProperty(
              "--color-background-hover",
              hoverColor.rgb
            );
          }
          const palette = createPalette(baseColor);
          orbs.forEach((orb) => {
            orb.fill = pickRandom(palette).hexVal;
          });

          const newColor = generateRandomColor(baseColor);
          const newHoverColor = getHoverColor(newColor);
          if (useOKLCH) {
            document.body.style.setProperty(
              "--color-background-next",
              newColor.oklch
            );
            document.body.style.setProperty(
              "--color-background-hover-next",
              newHoverColor.oklch
            );
          } else {
            document.body.style.setProperty(
              "--color-background-next",
              newColor.rgb
            );
            document.body.style.setProperty(
              "--color-background-hover-next",
              newHoverColor.rgb
            );
          }
          return newColor;
        };

        let nextColor = setColors(backgroundColor);
        document.getElementById("new-color").addEventListener("click", () => {
          nextColor = setColors(nextColor);
        });
      }
      if (!window.matchMedia("(prefers-reduced-motion: reduce)").matches) {
        init();
      } else {
        addPaletteChangeButton();
      }
    </script>
  </head>

  <body>
    <canvas class="orb-canvas"></canvas>
    <header>
      <hgroup>
        <h1>👋 I'm Carter.</h1>
        <p>Front-end dev. Father. Young grump. Simple things enjoyer.</p>
      </hgroup>
      <nav>
        <ul>
          <li>
            <a
              href="https://github.com/carterworks"
              title="GitHub"
              aria-label="GitHub"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                focusable="false"
                aria-hidden="true"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path
                  d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"
                ></path>
              </svg>
            </a>
          </li>
          <li>
            <a
              href="https://www.linkedin.com/in/thatcartermcbride/"
              title="LinkedIn"
              aria-label="LinkedIn"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                focusable="false"
                aria-hidden="true"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path
                  d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"
                ></path>
                <rect x="2" y="9" width="4" height="12"></rect>
                <circle cx="4" cy="4" r="2"></circle>
              </svg>
            </a>
          </li>
        </ul>
      </nav>
    </header>
  </body>
</html>
